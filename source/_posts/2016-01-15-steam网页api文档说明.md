title: steam网页api文档说明
date: 2016-01-15 17:12:17
tags: 
- steam
- api
- 文档
- web
categories:
- steam

---

Valve（阀门社）提供这些API给web开发者，开发者在自己的站点可以使用从steam数据库中查询出的一些数据。

<!-- more -->

文档内容：

1. [授权及最新的文档](#license)
2. [数据格式](#formats)
  2.1 [JSON](#JSON)
  2.2 [XML](#XML)
  2.3 [VDF(Value自己的数据格式)](#VDF)
  2.4 [CSV](#CSV)
3. [接口及方法](#interfaces-and-method)
  3.1 [游戏接口及方法](#game-interfaces-and-method)
  3.2 [GetNewForApp(v0002)](#GetNewsForApp)
    &emsp;&emsp;3.2.1 [参数](#GetNewsForApp-arguments)
    &emsp;&emsp;3.2.2 [结果](#GetNewsForApp-result)
  3.3 [GetGlobalAchievementPercentagesForApp (v0002)](#GetGlobalAchievementPercentagesForApp)
    &emsp;&emsp;3.3.1 [参数](#GetGlobalAchievementPercentagesForApp-arguments)
  3.4 [GetGlobalStatsForGame (v0001)](#GetGlobalStatsForGame)
    &emsp;&emsp;3.4.1 [参数](#GetGlobalStatsForGame-arguments)
  3.5 [GetPlayerSummaries (v0002)](#GetPlayerSummaries)
    &emsp;&emsp;3.5.1 [参数](#GetPlayerSummaries-arguments)
    &emsp;&emsp;3.5.2 [结果](#GetPlayerSummaries-result)
     &emsp;&emsp;&emsp;&emsp;3.5.2.1 [公共数据](#GetPlayerSummaries-result-public-data)
     &emsp;&emsp;&emsp;&emsp;3.5.2.1 [私有数据](#GetPlayerSummaries-result-private-data)
  3.6 [GetFriendList (v0001)](#GetFriendList)
    &emsp;&emsp;3.6.1 [参数](#GetFriendList-arguments)
    &emsp;&emsp;3.6.2 [结果](#GetFriendList-result)
  3.7 [GetPlayerAchievements (v0001)](#GetPlayerAchievements)
    &emsp;&emsp;3.7.1 [参数](#GetPlayerAchievements-arguments)
    &emsp;&emsp;3.7.2 [结果](#GetPlayerAchievements-result)
  3.8 [GetUserStatsForGame (v0002)](#GetUserStatsForGame)
    &emsp;&emsp;3.8.1 [参数](#GetUserStatsForGame-arguments)
  3.9 [GetOwnedGames (v0001)](#GetOwnedGames)
    &emsp;&emsp;3.9.1 [参数](#GetOwnedGames-arguments)
    &emsp;&emsp;3.9.2 [结果](#GetOwnedGames-result)
  3.10 [GetRecentlyPlayedGames (v0001)](#GetRecentlyPlayedGames)
    &emsp;&emsp;3.10.1 [参数](#GetRecentlyPlayedGames-arguments)
    &emsp;&emsp;3.10.2 [结果](#GetRecentlyPlayedGames-result)
  3.11 [IsPlayingSharedGame (v0001)](#IsPlayingSharedGame)
    &emsp;&emsp;3.11.1 [参数](#IsPlayingSharedGame-arguments)
    &emsp;&emsp;3.11.2 [结果](#IsPlayingSharedGame-result)
  3.12 [GetSchemaForGame (v2)](#GetSchemaForGame)
    &emsp;&emsp;3.12.1 [参数](#GetSchemaForGame-arguments)
    &emsp;&emsp;3.12.2 [结果](#GetSchemaForGame-result)
  3.13 [GetPlayerBans (v1)](#GetPlayerBans)
    &emsp;&emsp;3.13.1 [参数](#GetPlayerBans-arguments)
    &emsp;&emsp;3.13.2 [结果](#GetPlayerBans-result)
    
    

<h3 id="license">授权及最新的文档</h3>
- - -
Steam Web API的授权和最新文档地址：[http://steamcommunity.com/dev](http://steamcommunity.com/dev)

<h3 id="formats">数据格式</h3>
- - -

每个方法都可以返回3种数据格式的数据：JSON, XML, VDF。这些数据的不同：

__JSON__

* API返回一个对象数据，该对象包含一个字段，字段的值为返回的结果

__XML__

__VDF(Valve数据格式)__

__CSV__

<h3 id="interfaces-and-method">接口及方法</h3>
- - -

<h4 id="game-interfaces-and-method">游戏接口及方法</h4>

《Team Fortress 2》游戏提供的接口和方法地址：[http://wiki.teamfortress.com/wiki/WebAPI](http://wiki.teamfortress.com/wiki/WebAPI)

<h4 id="GetNewsForApp">GetNewForApp(v0002)</h4>

GetNewForApp根据应用或者游戏的appID返回最新的信息和新闻

例如：[http://api.steampowered.com/ISteamNews/GetNewsForApp/v0002/?appid=730&count=3&maxlength=300&format=json](http://api.steampowered.com/ISteamNews/GetNewsForApp/v0002/?appid=730&count=3&maxlength=300&format=json)

<h5 id="GetNewsForApp-arguments">参数</h5>

* `appid`: 游戏在steam上的appId，例如《CS:GO》的appId是730

* `count`: 指定获取的新闻和信息的数量

* `maxlength`: 指定新闻内容字符串的最大长度

* `format`: 数据结构，默认是`json`，可以指定`xml`或者`vdf`

<h5 id="GetNewsForApp-result">结果</h5>

上述连接查询《CS:GO》新闻的返回数据，得到：

```
{
    "appnews": {
        "appid": 730,
        "newsitems": [
            {
                "gid": "341512658308895766",
                "title": "Titan disbands following funding collapse",
                "url": "http://store.steampowered.com/news/externalpost/pcgamer/341512658308895766",
                "is_external_url": true,
                "author": "",
                "contents": "As of January 13, competitive gaming group Titan is dead. Founder and CEO Damien Grust&nbsp;<a href=\"http://titan.pro/news/read/Titan-Bids-Farewell/58\" target=\"_blank\">announced the disbandment</a> on Titan's website, releasing all players and staff on its&nbsp;roster, which included Smite and CS:GO teams. The group previously placed in the top 10 at The International 4, won in...",
                "feedlabel": "PC Gamer",
                "date": 1452789917,
                "feedname": "pcgamer"
            },
            {
                "gid": "341512023094591456",
                "title": "How to attack on CS:GO s Overpass map",
                "url": "http://store.steampowered.com/news/externalpost/pcgamer/341512023094591456",
                "is_external_url": true,
                "author": "",
                "contents": "Call-Outs <a href=\"https://steamcommunity.com/sharedfiles/filedetails/?l=swedish&amp;id=157442340\">Here's an overview of the map</a>, including call-outs that are helpful to know. <a href=\"http://www.pcgamer.com/how-to-defend-on-csgos-overpass-map\">Last time</a> we had a look at some cool tricks as CT on Overpass. Now it's time to indulge in the fine art of attacking the very same map. My philosophy is that it's best to take control over key areas on the map bef...",
                "feedlabel": "PC Gamer",
                "date": 1452621600,
                "feedname": "pcgamer"
            },
            {
                "gid": "341512023080993705",
                "title": "Australian esports org drops CS:GO team over match-fixing allegations",
                "url": "http://store.steampowered.com/news/externalpost/pcgamer/341512023080993705",
                "is_external_url": true,
                "author": "",
                "contents": "Just a couple of weeks after announcing its <a href=\"http://www.gosugamers.net/counterstrike/news/33777-ex-skyred-to-247-esports\">recruitment</a> of the former Skyred <a href=\"http://www.pcgamer.com/counter-strike-global-offensive/\">Counter-Strike: Global Offensive</a> team, Australian esports organization 24/7 Esports has cut ties with the group over allegations that its players were involved in match-fixing. I am disappointed in the rumored conduct of th...",
                "feedlabel": "PC Gamer",
                "date": 1452295329,
                "feedname": "pcgamer"
            }
        ]
    }
}
```

数据是`json`格式，`appid`是该游戏在steam上的appId，`newsitems`包含3条新闻，每个新闻对象里有自己的唯一`gid`，标题`title`，新闻地址`url`。

<h4 id="GetGlobalAchievementPercentagesForApp">GetGlobalAchievementPercentagesForApp (v0002)</h4>

获取指定游戏的所有成就获得百分比的全球统计。

以《CS:GO》为例：[http://api.steampowered.com/ISteamUserStats/GetGlobalAchievementPercentagesForApp/v0002/?gameid=730](http://api.steampowered.com/ISteamUserStats/GetGlobalAchievementPercentagesForApp/v0002/?gameid=730)

<h5 id="GetGlobalAchievementPercentagesForApp-arguments">参数</h5>

* `gameid`: 游戏在steam上的appId

* `format`: 指定返回数据的格式



